<div class="navbar-main">
  <div class="navbar-main-flex">
    <div class="navbar-flex">

      <!-- Logo -->
      <%= link_to root_path, class: "navbar-brand-main" do %>
        <%= image_tag "logo.png" %>
      <% end %>

      <!-- Change Locale -->
      <span class="navbar-item"> <%= link_to "En", { locale: '' }, { class: "navbar-link" } %> / <%= link_to "Fr", { locale: 'fr' }, { class: "navbar-link" } %> </span> <!-- TODO: MAYBE THERE IS A BETTER WAY TO SET DEFAULT LOCALE -->

    </div>

    <!-- Right Navigation -->
    <div class="navbar-flex hidden-xs hidden-sm">

      <!-- Different navigation if login or not -->
      <% if user_signed_in? %>

        <!-- Notification -->
        <%= link_to "#", class: "navbar-item navbar-link" do %>
          <div class="badge-container">
            <i class="fa fa-bell-o"></i>
            <div class="badge badge-brand">3</div>
          </div>
        <% end %>

        <!-- Profile picture and dropdown -->
        <div class="navbar-item">
          <div class="dropdown">
            <% if current_user.profile_picture? %>
              <%= cl_image_tag(current_user.profile_picture, width: 30, height: 30, crop: :thumb, gravity: :face, class: "avatar", id: "navbar-menu", "data-toggle" => "dropdown" ) %>
            <% else %>
              <%= image_tag "http://placehold.it/30x30", class: "avatar dropdown-toggle", id: "navbar-menu", "data-toggle" => "dropdown" %>
            <% end %>
            <ul class="dropdown-menu dropdown-menu-right navbar-dropdown-menu">
              <li>
                <%= link_to profile_path(current_user) do %>
                  <i class="fa fa-user"></i> <%= t(".profile", default: "Profile") %>
                <% end %>
              </li>
              <li>
                <%= link_to root_path do %>
                  <i class="fa fa-home"></i>  <%= t(".profile", default: "Home") %>
                <% end %>
              </li>
              <li>
                <%= link_to destroy_user_session_path, method: :delete do %>
                  <i class="fa fa-sign-out"></i>  <%= t(".sign_out", default: "Log out") %>
                <% end %>
              </li>
            </ul>
          </div>
        </div>

      <% else %>

        <!-- Login text link -->
        <%= link_to t(".sign_in", default: "Login"), new_user_session_path, class: "navbar-item navbar-link" %>

        <!-- Button (call-to-action) -->
        <%= link_to t(".top_call_to_action", default: "Sign up"), new_user_registration_path, class: "navbar-item datagami-button-filled" %>

      <% end %>

      <!-- Dropdown list appearing on mobile only -->
      <div class="navbar-item hidden-md hidden-lg">
        <div class="dropdown">
          <i class="fa fa-bars dropdown-toggle" data-toggle="dropdown"></i>
          <ul class="dropdown-menu dropdown-menu-right navbar-dropdown-menu">
            <li><a href="#">Some mobile link</a></li>
            <li><a href="#">Other one</a></li>
            <li><a href="#">Other one</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

